(this.webpackJsonpfinalproject_frontend=this.webpackJsonpfinalproject_frontend||[]).push([[0],{22:function(e,t,s){},41:function(e,t,s){},64:function(e,t,s){},65:function(e,t,s){},69:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s(1),i=s.n(a),c=s(32),o=s.n(c),r=(s(41),s(12)),l=s(3),u=s(5),d=s(7),h=s(6),j=(s(22),s(2)),b=s(17),p=s.n(b),m=function e(){var t=this;Object(l.a)(this,e),this.loggedin=function(){return t.service.get("/loggedin")};var s=p.a.create({baseURL:"".concat("https://dahost.herokuapp.com","/api"),withCredentials:!0});this.service=s},O=s(13),v=function(){function e(){Object(l.a)(this,e);var t=p.a.create({baseURL:"".concat("https://dahost.herokuapp.com","/api")});this.service=t}return Object(u.a)(e,[{key:"addUsers",value:function(e,t){return this.service.put("/quiz/".concat(e,"/users"),{users:t})}},{key:"addQuestionsAndQuizCode",value:function(e,t,s,n){return this.service.post("/quiz",{user:e,questions:t,playlistTitle:s,playlistDescription:n})}},{key:"getQuizCode",value:function(e){return this.service.get("/quiz/".concat(e))}},{key:"getQuizUsers",value:function(e){return this.service.get("/quiz-code/".concat(e))}},{key:"getQuizQuestions",value:function(e){return this.service.get("/quiz-code/".concat(e))}},{key:"addSongs",value:function(e,t){return this.service.put("/quiz/".concat(e,"/addsongs"),{songs:t})}},{key:"getSongs",value:function(e,t){return this.service.post("/quiz/".concat(e,"/playlist"),{userToken:t})}}]),e}(),g=s.p+"static/media/party_playlist_video.8bbc0a0c.mp4",f=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={displayName:"",quizCode:""},e.handleChange=function(t){var s=t.target,n=s.name,a=s.value;e.setState(Object(O.a)({},n,a))},e.handleFormSubmit=function(t){t.preventDefault();var s=new v,n=e.state.displayName;console.log(n),s.addUsers(e.state.quizCode,n).then((function(t){console.log("user ".concat(n," added"),t),e.props.history.push("/quiz-code/lobbygame/".concat(e.state.quizCode))}))},e}return Object(u.a)(s,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"home-wrapper",children:[Object(n.jsx)("video",{src:g,id:"video-home",autoPlay:!0,loop:!0,muted:!0,style:{position:"absolute",width:"100%",left:"50%",top:"50%",height:"100%",objectFit:"cover",transform:"translate(-50%, -50%)",zIndex:"-1"}}),Object(n.jsxs)("div",{className:"home-form-wrapper",children:[Object(n.jsx)("h1",{className:"primary-title",children:"Join a Game"}),Object(n.jsxs)("form",{className:"form-home",onSubmit:this.handleFormSubmit,children:[Object(n.jsxs)("div",{className:"form-field",children:[Object(n.jsx)("label",{id:"label"}),Object(n.jsx)("input",{className:"primary-input",type:"text",name:"displayName",onChange:this.handleChange,value:this.state.displayName,placeholder:"Display Name",autoFocus:!0,required:!0})]}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{className:"form-field",children:[Object(n.jsx)("label",{id:"label"}),Object(n.jsx)("input",{className:"primary-input",type:"text",name:"quizCode",onChange:this.handleChange,value:this.state.quizCode,placeholder:"Game Pin",required:!0})]}),Object(n.jsx)("br",{}),Object(n.jsx)("div",{className:"form-field",children:Object(n.jsx)("button",{className:"treat-button",children:"Join!"})})]}),Object(n.jsx)("br",{}),Object(n.jsxs)("center",{className:"p-home",children:["Be a host and create a game! Log in"," ",Object(n.jsx)("a",{href:"/login-spotify",id:"host",children:"here"})]})]})]})}}]),s}(i.a.Component),x=Object(j.f)(f),y=(s(64),["btn--primary","btn--outline"]),q=["btn--medium","btn--large"],N=function(e){var t=e.children,s=e.type,a=e.onClick,i=e.buttonStyle,c=e.buttonSize,o=y.includes(i)?i:y[0],r=q.includes(c)?c:q[0];return Object(n.jsx)("button",{className:"btn ".concat(o," ").concat(r),onclick:a,type:s,children:t})},C=[{title:"Create a New Quiz",url:"/quiz-creation",cName:"nav-links"},{title:"Your Playlists",url:"/playlist",cName:"nav-links"},{title:"Log Out of Spotify",url:"/logout",cName:"nav-links-mobile"}],z=(s(65),function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={clicked:!1},e.handleClick=function(){e.setState({clicked:!e.state.clicked})},e}return Object(u.a)(s,[{key:"render",value:function(){return Object(n.jsxs)("nav",{className:"NavbarItems",children:[Object(n.jsxs)("h1",{className:"navbar-logo",children:[" ",Object(n.jsx)("a",{href:"/",style:{textDecoration:"none",color:"white"},children:"DaHost"})," ",Object(n.jsx)("i",{className:"fab fa-spotify"})]}),Object(n.jsx)("div",{className:"menu-icon",onclick:this.handleClick,children:Object(n.jsx)("i",{className:this.state.clicked?"fas fa-times":"fas fa-bars"})}),Object(n.jsx)("ul",{className:this.state.clicked?"nav-menu active":"nav-menu",children:C.map((function(e,t){return Object(n.jsx)("li",{children:Object(n.jsx)("a",{className:e.cName,href:e.url,children:e.title})},t)}))}),Object(n.jsx)(N,{children:"Log Out"})]})}}]),s}(a.Component)),k=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={title:"",description:"",questions:{question1:"",question2:"",question3:"",question4:"",question5:""},code:0},e.handleChange=function(t){var s=t.target,n=s.name,a=s.value;e.setState((function(e){return{questions:Object(r.a)(Object(r.a)({},e.questions),{},Object(O.a)({},n,a))}}))},e.handleChangeTitleDescription=function(t){var s=t.target,n=s.name,a=s.value;e.setState(Object(O.a)({},n,a))},e.handleFormSubmit=function(t){t.preventDefault();var s=new v,n=e.state.questions,a=Object.values(n),i=e.state.title,c=e.state.description;s.addQuestionsAndQuizCode(localStorage.getItem("loggedInUser"),a,i,c).then((function(t){console.log(n),e.setState({code:t.data.quizCode}),console.log(e.state.code),e.props.history.push("/quiz-code/".concat(e.state.code))}))},e}return Object(u.a)(s,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"quizCreation",children:[Object(n.jsx)(z,{}),Object(n.jsx)("h1",{className:"primary-title",children:"Let's create your quiz!"}),Object(n.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(n.jsxs)("div",{className:"title-description-section",children:[Object(n.jsxs)("div",{className:"question",children:[Object(n.jsx)("div",{className:"labelQuestion"}),Object(n.jsx)("div",{className:"inputQuestion",children:Object(n.jsx)("input",{className:"primary-input",type:"text",name:"title",onChange:this.handleChangeTitleDescription,value:this.state.title,placeholder:"Playlist Title",required:!0})})]}),Object(n.jsxs)("div",{className:"question",children:[Object(n.jsx)("div",{className:"labelQuestion"}),Object(n.jsx)("div",{className:"inputQuestion",children:Object(n.jsx)("input",{className:"primary-input",type:"textarea",name:"description",onChange:this.handleChangeTitleDescription,value:this.state.description,placeholder:"Describe your playlist "})})]})]}),Object(n.jsxs)("div",{className:"questions-1-2-3",children:[Object(n.jsxs)("div",{className:"question",children:[Object(n.jsx)("div",{className:"labelQuestion"}),Object(n.jsx)("div",{className:"inputQuestion",children:Object(n.jsx)("input",{className:"primary-input",style:{width:"280px"},type:"text",name:"question1",onChange:this.handleChange,value:this.state.questions.question1,placeholder:"1. What song gets you energized?",required:!0})})]}),Object(n.jsxs)("div",{className:"question",children:[Object(n.jsx)("div",{className:"labelQuestion"}),Object(n.jsx)("div",{className:"inputQuestion",children:Object(n.jsx)("input",{className:"primary-input",style:{width:"360px"},type:"text",name:"question2",onChange:this.handleChange,value:this.state.questions.question2,placeholder:"2. What song leads you to the dance floor?",required:!0})})]}),Object(n.jsxs)("div",{className:"question",children:[Object(n.jsx)("div",{className:"labelQuestion"}),Object(n.jsx)("div",{className:"inputQuestion",children:Object(n.jsx)("input",{className:"primary-input",style:{width:"330px"},type:"text",name:"question3",onChange:this.handleChange,value:this.state.questions.question3,placeholder:"3.What song can make you romantic?",required:!0})})]})]}),Object(n.jsxs)("div",{className:"questions-4-5",children:[Object(n.jsxs)("div",{className:"question",children:[Object(n.jsx)("div",{className:"labelQuestion"}),Object(n.jsx)("div",{className:"inputQuestion",children:Object(n.jsx)("input",{className:"primary-input",style:{width:"330px"},type:"text",name:"question4",onChange:this.handleChange,value:this.state.questions.question4,placeholder:"4.What song makes you want a beer?",required:!0})})]}),Object(n.jsxs)("div",{className:"question",children:[Object(n.jsx)("div",{className:"labelQuestion"}),Object(n.jsx)("div",{className:"inputQuestion",children:Object(n.jsx)("input",{className:"primary-input",style:{width:"300px"},type:"text",name:"question5",onChange:this.handleChange,value:this.state.questions.question5,placeholder:" 5. What's your favorite song?",required:!0})})]})]}),Object(n.jsx)("div",{className:"form-field",children:Object(n.jsx)("button",{className:"treat-button",children:"Submit!"})})]})]})}}]),s}(i.a.Component),S=Object(j.f)(k),w=s(34),I=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={code:e.props.match.params.quizCode,value:"",copied:!1},e.handleButton=function(){e.props.history.push("/quiz-code/lobbygame/".concat(e.state.code))},e}return Object(u.a)(s,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"quizcode-wrapper",children:[Object(n.jsx)(z,{}),Object(n.jsxs)("div",{className:"quizcode-title",children:[Object(n.jsx)("h1",{className:"primary-title",children:"Here's your quiz code! "}),Object(n.jsx)("h2",{className:"primary-subtitle",children:"Share it with your friends! "})]}),Object(n.jsxs)("div",{className:"quizcode-wrapper",children:[Object(n.jsxs)("div",{className:"quizcode-pastebutton",children:[Object(n.jsx)("input",{className:"primary-input",style:{color:"black"},value:this.state.code,onChange:function(t){var s=t.target.code;return e.setState({code:s,copied:!1})}}),Object(n.jsx)(w.CopyToClipboard,{text:this.state.code,onCopy:function(){return e.setState({copied:!0})},children:Object(n.jsx)("i",{style:{color:"white",cursor:"pointer"},className:"far fa-copy fa-2x"})}),this.state.copied?Object(n.jsx)("span",{style:{color:"red"},children:"Copied."}):null]}),Object(n.jsx)("div",{className:"form-field",children:Object(n.jsx)("button",{className:"treat-button-quizcode",onClick:this.handleButton,children:"Join Lobby"})})]})]})}}]),s}(i.a.Component),Q=Object(j.f)(I),U=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={users:[]},e.intervalID=0,e.handleButton=function(){clearInterval(e.intervalID);var t=e.props.match.params.quizCode;e.props.history.push("/quiz-code/game/".concat(t))},e}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.intervalID=setInterval((function(){var t=new v,s=e.props.match.params.quizCode;t.getQuizUsers(s).then((function(t){var s=t.data[0];e.setState({users:s.users})}))}),500)}},{key:"render",value:function(){return this.state.users?Object(n.jsxs)("div",{children:[Object(n.jsx)(z,{}),Object(n.jsxs)("div",{className:"lobby-game-wrapper",children:[Object(n.jsx)("h1",{className:"primary-title",children:"Waiting for all players..."}),Object(n.jsx)("div",{children:Object(n.jsx)("div",{children:Object(n.jsx)("ul",{children:this.state.users.map((function(e,t){return Object(n.jsx)("li",{className:"users-lobby",children:e},t)}))})})}),Object(n.jsx)("div",{className:"form-field",children:Object(n.jsx)("button",{className:"treat-button",onClick:this.handleButton,children:"Start Game"})})]})]}):Object(n.jsx)("div",{children:"Loading"})}}]),s}(i.a.Component),D=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={questions:[],songs:{song0:"",song1:"",song2:"",song3:"",song4:""}},e.handleChange=function(t){var s=t.target,n=s.name,a=s.value;e.setState((function(e){return{songs:Object(r.a)(Object(r.a)({},e.songs),{},Object(O.a)({},n,a))}}))},e.handleFormSubmit=function(t){t.preventDefault();var s=new v,n=e.state.songs,a=e.props.match.params.quizCode,i=Object.values(n);console.log("These songs: ".concat(i)),s.addSongs(a,i).then((function(t){console.log(t),console.log("These songs were submited: ".concat(i)),console.log("These quizCode was submited: ".concat(a)),e.props.history.push("/quiz-code/".concat(a,"/playlist"))}))},e}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=new v,s=this.props.match.params.quizCode;t.getQuizQuestions(s).then((function(t){var s=t.data[0];e.setState({questions:s.questions})}))}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"Game"}),Object(n.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(n.jsx)("div",{className:"gameQuestions",children:Object(n.jsx)("form",{onSubmit:this.handleFormSubmit,children:Object(n.jsx)("ul",{children:this.state.questions.map((function(t,s){return Object(n.jsxs)("div",{children:[Object(n.jsx)("li",{children:t}),Object(n.jsx)("input",{type:"text",name:"song".concat(s),onChange:e.handleChange,value:e.state.songs["song".concat(s)]})]},s)}))})})}),Object(n.jsx)("button",{children:"Submit Your Songs"})]})]})}}]),s}(i.a.Component),F=Object(j.f)(D),T=s(35),A=s.n(T),L=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={playlist:null},e}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.quizCode,s=this.props.loggedInUser.accessToken;(new v).getSongs(t,s).then((function(t){console.log(t.data),e.setState({playlist:t.data})}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"Playlist display"}),Object(n.jsx)("div",{children:Object(n.jsx)(A.a,{uri:this.state.playlist,size:{width:"100%",height:300},view:"list",theme:"black"})})]})}}]),s}(i.a.Component),B=Object(j.f)(L),P=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={loggedInUser:null},e.setCurrentUser=function(t){e.setState({loggedInUser:t})},e}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this;null===this.state.loggedInUser&&(new m).loggedin().then((function(t){t.data._id?(e.setCurrentUser(t.data),localStorage.setItem("loggedInUser",t.data.displayName)):localStorage.removeItem("loggedInUser")}))}},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(j.c,{children:[Object(n.jsx)(j.a,{exact:!0,path:"/",render:function(){return Object(n.jsx)(x,{loggedInUser:e.state.loggedInUser})}}),Object(n.jsx)(j.a,{path:"/quiz-creation",render:function(){return Object(n.jsx)(S,{loggedInUser:e.state.loggedInUser})}}),Object(n.jsx)(j.a,{exact:!0,path:"/quiz-code/:quizCode",component:Q}),Object(n.jsx)(j.a,{path:"/quiz-code/lobbygame/:quizCode",render:function(e){return Object(n.jsx)(U,Object(r.a)(Object(r.a)({},e),{},{loggedInUser:localStorage.getItem("loggedInUser")}))}}),Object(n.jsx)(j.a,{path:"/quiz-code/game/:quizCode",render:function(e){return Object(n.jsx)(F,Object(r.a)(Object(r.a)({},e),{},{loggedInUser:localStorage.getItem("loggedInUser")}))}}),Object(n.jsx)(j.a,{path:"/quiz-code/:quizCode/playlist",render:function(){return Object(n.jsx)(B,{loggedInUser:e.state.loggedInUser})}}),Object(n.jsx)(j.a,{path:"/login-spotify",render:function(){window.location.href="".concat("https://dahost.herokuapp.com","/api/auth/spotify")}})]})})}}]),s}(i.a.Component),W=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,71)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;s(e),n(e),a(e),i(e),c(e)}))},J=s(14);o.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(J.a,{children:Object(n.jsx)(P,{})})}),document.getElementById("root")),W()}},[[69,1,2]]]);
//# sourceMappingURL=main.159521ea.chunk.js.map