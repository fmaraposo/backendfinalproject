(this.webpackJsonpfinalproject_frontend=this.webpackJsonpfinalproject_frontend||[]).push([[0],{40:function(e,t,n){},41:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(1),i=n.n(a),c=n(31),o=n.n(c),r=(n(40),n(12)),l=n(3),u=n(5),d=n(7),h=n(6),j=(n(41),n(2)),b=n(17),p=n.n(b),m=function e(){var t=this;Object(l.a)(this,e),this.loggedin=function(){return t.service.get("/loggedin")};var n=p.a.create({baseURL:"".concat("https://dahost.herokuapp.com","/api"),withCredentials:!0});this.service=n},O=n(13),g=function(){function e(){Object(l.a)(this,e);var t=p.a.create({baseURL:"".concat("https://dahost.herokuapp.com","/api")});this.service=t}return Object(u.a)(e,[{key:"addUsers",value:function(e,t){return this.service.put("/quiz/".concat(e,"/users"),{users:t})}},{key:"addQuestionsAndQuizCode",value:function(e,t,n,s){return this.service.post("/quiz",{user:e,questions:t,playlistTitle:n,playlistDescription:s})}},{key:"getQuizCode",value:function(e){return this.service.get("/quiz/".concat(e))}},{key:"getQuizUsers",value:function(e){return this.service.get("/quiz-code/".concat(e))}},{key:"getQuizQuestions",value:function(e){return this.service.get("/quiz-code/".concat(e))}},{key:"addSongs",value:function(e,t){return this.service.put("/quiz/".concat(e,"/addsongs"),{songs:t})}},{key:"getSongs",value:function(e,t){return this.service.post("/quiz/".concat(e,"/playlist"),{userToken:t})}}]),e}(),v=n.p+"static/media/party_playlist_video.8bbc0a0c.mp4",x=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={displayName:"",quizCode:""},e.handleChange=function(t){var n=t.target,s=n.name,a=n.value;e.setState(Object(O.a)({},s,a))},e.handleFormSubmit=function(t){t.preventDefault();var n=new g,s=e.state.displayName;console.log(s),n.addUsers(e.state.quizCode,s).then((function(t){console.log("user ".concat(s," added"),t),e.props.history.push("/quiz-code/lobbygame/".concat(e.state.quizCode))}))},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"home-wrapper",children:[Object(s.jsx)("video",{src:v,id:"video-home",autoPlay:!0,loop:!0,muted:!0,style:{position:"absolute",width:"100%",left:"50%",top:"50%",height:"100%",objectFit:"cover",transform:"translate(-50%, -50%)",zIndex:"-1"}}),Object(s.jsxs)("div",{className:"home-form-wrapper",children:[Object(s.jsx)("h1",{className:"primary-title",children:"Join a Game"}),Object(s.jsxs)("form",{className:"form-home",onSubmit:this.handleFormSubmit,children:[Object(s.jsxs)("div",{className:"form-field",children:[Object(s.jsx)("label",{id:"label"}),Object(s.jsx)("input",{className:"primary-input",type:"text",name:"displayName",onChange:this.handleChange,value:this.state.displayName,placeholder:"Display Name",autoFocus:!0,required:!0})]}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{className:"form-field",children:[Object(s.jsx)("label",{id:"label"}),Object(s.jsx)("input",{className:"primary-input",type:"text",name:"quizCode",onChange:this.handleChange,value:this.state.quizCode,placeholder:"Game Pin",required:!0})]}),Object(s.jsx)("br",{}),Object(s.jsx)("div",{className:"form-field",children:Object(s.jsx)("button",{className:"treat-button",children:"Join!"})})]}),Object(s.jsx)("br",{}),Object(s.jsxs)("center",{className:"p-home",children:["Be a host and create a game! Log in"," ",Object(s.jsx)("a",{href:"/login-spotify",id:"host",children:"here"})]})]})]})}}]),n}(i.a.Component),f=Object(j.g)(x),y=(n(64),["btn--primary","btn--outline"]),q=["btn--medium","btn--large"],N=function(e){var t=e.children,n=e.type,a=e.onClick,i=e.buttonStyle,c=e.buttonSize,o=y.includes(i)?i:y[0],r=q.includes(c)?c:q[0];return Object(s.jsx)("button",{className:"btn ".concat(o," ").concat(r),onclick:a,type:n,children:t})},C=[{title:"Create a New Quiz",url:"/quiz-creation",cName:"nav-links"},{title:"Your Playlists",url:"/playlist",cName:"nav-links"},{title:"Log Out of Spotify",url:"/logout",cName:"nav-links-mobile"}],z=(n(65),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={clicked:!1},e.handleClick=function(){e.setState({clicked:!e.state.clicked})},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("nav",{className:"NavbarItems",children:[Object(s.jsxs)("h1",{className:"navbar-logo",children:[" ",Object(s.jsx)("a",{href:"/",style:{textDecoration:"none",color:"white"},children:"DaHost"})," ",Object(s.jsx)("i",{className:"fab fa-spotify"})]}),Object(s.jsx)("div",{className:"menu-icon",onclick:this.handleClick,children:Object(s.jsx)("i",{className:this.state.clicked?"fas fa-times":"fas fa-bars"})}),Object(s.jsx)("ul",{className:this.state.clicked?"nav-menu active":"nav-menu",children:C.map((function(e,t){return Object(s.jsx)("li",{children:Object(s.jsx)("a",{className:e.cName,href:e.url,children:e.title})},t)}))}),Object(s.jsx)(N,{children:"Log Out"})]})}}]),n}(a.Component)),k=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={title:"",description:"",questions:{question1:"",question2:"",question3:"",question4:"",question5:""},code:0},e.handleChange=function(t){var n=t.target,s=n.name,a=n.value;e.setState((function(e){return{questions:Object(r.a)(Object(r.a)({},e.questions),{},Object(O.a)({},s,a))}}))},e.handleChangeTitleDescription=function(t){var n=t.target,s=n.name,a=n.value;e.setState(Object(O.a)({},s,a))},e.handleFormSubmit=function(t){t.preventDefault();var n=new g,s=e.state.questions,a=Object.values(s),i=e.state.title,c=e.state.description;n.addQuestionsAndQuizCode(localStorage.getItem("loggedInUser"),a,i,c).then((function(t){console.log(s),e.setState({code:t.data.quizCode}),console.log(e.state.code),e.props.history.push("/quiz-code/".concat(e.state.code))}))},e}return Object(u.a)(n,[{key:"render",value:function(){return localStorage.getItem("loggedInUser")?Object(s.jsxs)("div",{className:"quizCreation",children:[Object(s.jsx)(z,{}),Object(s.jsx)("h1",{className:"primary-title",children:"Let's create your quiz!"}),Object(s.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(s.jsxs)("div",{className:"title-description-section",children:[Object(s.jsxs)("div",{className:"question",children:[Object(s.jsx)("div",{className:"labelQuestion"}),Object(s.jsx)("div",{className:"inputQuestion",children:Object(s.jsx)("input",{className:"primary-input",type:"text",name:"title",onChange:this.handleChangeTitleDescription,value:this.state.title,placeholder:"Playlist Title",required:!0})})]}),Object(s.jsxs)("div",{className:"question",children:[Object(s.jsx)("div",{className:"labelQuestion"}),Object(s.jsx)("div",{className:"inputQuestion",children:Object(s.jsx)("input",{className:"primary-input",type:"textarea",name:"description",onChange:this.handleChangeTitleDescription,value:this.state.description,placeholder:"Describe your playlist "})})]})]}),Object(s.jsxs)("div",{className:"questions-1-2-3",children:[Object(s.jsxs)("div",{className:"question",children:[Object(s.jsx)("div",{className:"labelQuestion"}),Object(s.jsx)("div",{className:"inputQuestion",children:Object(s.jsx)("input",{className:"primary-input",style:{width:"280px"},type:"text",name:"question1",onChange:this.handleChange,value:this.state.questions.question1,placeholder:"1. What song gets you energized?",required:!0})})]}),Object(s.jsxs)("div",{className:"question",children:[Object(s.jsx)("div",{className:"labelQuestion"}),Object(s.jsx)("div",{className:"inputQuestion",children:Object(s.jsx)("input",{className:"primary-input",style:{width:"360px"},type:"text",name:"question2",onChange:this.handleChange,value:this.state.questions.question2,placeholder:"2. What song leads you to the dance floor?",required:!0})})]}),Object(s.jsxs)("div",{className:"question",children:[Object(s.jsx)("div",{className:"labelQuestion"}),Object(s.jsx)("div",{className:"inputQuestion",children:Object(s.jsx)("input",{className:"primary-input",style:{width:"330px"},type:"text",name:"question3",onChange:this.handleChange,value:this.state.questions.question3,placeholder:"3.What song can make you romantic?",required:!0})})]})]}),Object(s.jsxs)("div",{className:"questions-4-5",children:[Object(s.jsxs)("div",{className:"question",children:[Object(s.jsx)("div",{className:"labelQuestion"}),Object(s.jsx)("div",{className:"inputQuestion",children:Object(s.jsx)("input",{className:"primary-input",style:{width:"330px"},type:"text",name:"question4",onChange:this.handleChange,value:this.state.questions.question4,placeholder:"4.What song makes you want a beer?",required:!0})})]}),Object(s.jsxs)("div",{className:"question",children:[Object(s.jsx)("div",{className:"labelQuestion"}),Object(s.jsx)("div",{className:"inputQuestion",children:Object(s.jsx)("input",{className:"primary-input",style:{width:"300px"},type:"text",name:"question5",onChange:this.handleChange,value:this.state.questions.question5,placeholder:" 5. What's your favorite song?",required:!0})})]})]}),Object(s.jsx)("div",{className:"form-field",children:Object(s.jsx)("button",{className:"treat-button",children:"Submit!"})})]})]}):Object(s.jsx)(j.a,{path:"/"})}}]),n}(i.a.Component),S=Object(j.g)(k),w=n(33),I=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={code:e.props.match.params.quizCode,value:"",copied:!1},e.handleButton=function(){e.props.history.push("/quiz-code/lobbygame/".concat(e.state.code))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"quizcode-wrapper",children:[Object(s.jsx)(z,{}),Object(s.jsxs)("div",{className:"quizcode-title",children:[Object(s.jsx)("h1",{className:"primary-title",children:"Here's your quiz code! "}),Object(s.jsx)("h2",{className:"primary-subtitle",children:"Share it with your friends! "})]}),Object(s.jsxs)("div",{className:"quizcode-wrapper",children:[Object(s.jsxs)("div",{className:"quizcode-pastebutton",children:[Object(s.jsx)("input",{className:"primary-input",style:{color:"black"},value:this.state.code,onChange:function(t){var n=t.target.code;return e.setState({code:n,copied:!1})}}),Object(s.jsx)(w.CopyToClipboard,{text:this.state.code,onCopy:function(){return e.setState({copied:!0})},children:Object(s.jsx)("i",{style:{color:"white",cursor:"pointer"},className:"far fa-copy fa-2x"})}),this.state.copied?Object(s.jsx)("span",{style:{color:"red"},children:"Copied."}):null]}),Object(s.jsx)("div",{className:"form-field",children:Object(s.jsx)("button",{className:"treat-button-quizcode",onClick:this.handleButton,children:"Join Lobby"})})]})]})}}]),n}(i.a.Component),Q=Object(j.g)(I),U=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={users:[]},e.intervalID=0,e.handleButton=function(){clearInterval(e.intervalID);var t=e.props.match.params.quizCode;e.props.history.push("/quiz-code/game/".concat(t))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.intervalID=setInterval((function(){var t=new g,n=e.props.match.params.quizCode;t.getQuizUsers(n).then((function(t){var n=t.data[0];e.setState({users:n.users})}))}),500)}},{key:"render",value:function(){return this.state.users?Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Hello from Lobby"}),Object(s.jsx)("div",{children:Object(s.jsx)("div",{children:Object(s.jsx)("ul",{children:this.state.users.map((function(e,t){return Object(s.jsx)("li",{children:e},t)}))})})}),Object(s.jsx)("button",{onClick:this.handleButton,children:"Start Game"})]}):Object(s.jsx)("div",{children:"Loading"})}}]),n}(i.a.Component),D=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={questions:[],songs:{song0:"",song1:"",song2:"",song3:"",song4:""}},e.handleChange=function(t){var n=t.target,s=n.name,a=n.value;e.setState((function(e){return{songs:Object(r.a)(Object(r.a)({},e.songs),{},Object(O.a)({},s,a))}}))},e.handleFormSubmit=function(t){t.preventDefault();var n=new g,s=e.state.songs,a=e.props.match.params.quizCode,i=Object.values(s);console.log("These songs: ".concat(i)),n.addSongs(a,i).then((function(t){console.log(t),console.log("These songs were submited: ".concat(i)),console.log("These quizCode was submited: ".concat(a)),e.props.history.push("/quiz-code/".concat(a,"/playlist"))}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=new g,n=this.props.match.params.quizCode;t.getQuizQuestions(n).then((function(t){var n=t.data[0];e.setState({questions:n.questions})}))}},{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Game"}),Object(s.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(s.jsx)("div",{className:"gameQuestions",children:Object(s.jsx)("form",{onSubmit:this.handleFormSubmit,children:Object(s.jsx)("ul",{children:this.state.questions.map((function(t,n){return Object(s.jsxs)("div",{children:[Object(s.jsx)("li",{children:t}),Object(s.jsx)("input",{type:"text",name:"song".concat(n),onChange:e.handleChange,value:e.state.songs["song".concat(n)]})]},n)}))})})}),Object(s.jsx)("button",{children:"Submit Your Songs"})]})]})}}]),n}(i.a.Component),F=Object(j.g)(D),T=n(34),A=n.n(T),L=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={playlist:null},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.quizCode,n=this.props.loggedInUser.accessToken;(new g).getSongs(t,n).then((function(t){console.log(t.data),e.setState({playlist:t.data})}))}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Playlist display"}),Object(s.jsx)("div",{children:Object(s.jsx)(A.a,{uri:this.state.playlist,size:{width:"100%",height:300},view:"list",theme:"black"})})]})}}]),n}(i.a.Component),B=Object(j.g)(L),P=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={loggedInUser:null},e.setCurrentUser=function(t){e.setState({loggedInUser:t})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;null===this.state.loggedInUser&&(new m).loggedin().then((function(t){t.data._id?(e.setCurrentUser(t.data),localStorage.setItem("loggedInUser",t.data.displayName)):localStorage.removeItem("loggedInUser")}))}},{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)(j.d,{children:[Object(s.jsx)(j.b,{exact:!0,path:"/",render:function(){return Object(s.jsx)(f,{loggedInUser:e.state.loggedInUser})}}),Object(s.jsx)(j.b,{path:"/quiz-creation",render:function(){return Object(s.jsx)(S,{loggedInUser:e.state.loggedInUser})}}),Object(s.jsx)(j.b,{exact:!0,path:"/quiz-code/:quizCode",component:Q}),Object(s.jsx)(j.b,{path:"/quiz-code/lobbygame/:quizCode",render:function(e){return Object(s.jsx)(U,Object(r.a)(Object(r.a)({},e),{},{loggedInUser:localStorage.getItem("loggedInUser")}))}}),Object(s.jsx)(j.b,{path:"/quiz-code/game/:quizCode",render:function(e){return Object(s.jsx)(F,Object(r.a)(Object(r.a)({},e),{},{loggedInUser:localStorage.getItem("loggedInUser")}))}}),Object(s.jsx)(j.b,{path:"/quiz-code/:quizCode/playlist",render:function(){return Object(s.jsx)(B,{loggedInUser:e.state.loggedInUser})}}),Object(s.jsx)(j.b,{path:"/login-spotify",render:function(){window.location.href="".concat("https://dahost.herokuapp.com","/api/auth/spotify")}})]})})}}]),n}(i.a.Component),J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),i(e),c(e)}))},M=n(14);o.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(M.a,{children:Object(s.jsx)(P,{})})}),document.getElementById("root")),J()}},[[69,1,2]]]);
//# sourceMappingURL=main.27f64d11.chunk.js.map